!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.singleSpaVanillaApp=e():n.singleSpaVanillaApp=e()}(window,(function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function u(t,r,o,a){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return i(c,"_invoke",function(t,r,o){var i,a,u,l=0,c=o||[],d=!1,p={p:0,n:0,v:n,a:f,f:f.bind(n,4),d:function(e,t){return i=e,a=0,u=n,p.n=t,s}};function f(t,r){for(a=t,u=r,e=0;!d&&l&&!o&&e<c.length;e++){var o,i=c[e],f=p.p,b=i[2];t>3?(o=b===r)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=n):i[0]<=f&&((o=t<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<b&&(o=t<3||i[0]>r||r>b)&&(i[4]=t,i[5]=r,p.n=b,a=0))}if(o||t>1)return s;throw d=!0,r}return function(o,c,b){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,b),a=c,u=b;(e=a<2?n:u)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,u)):p.n=u:p.v=u);try{if(l=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=n}else if((e=(d=p.n<0)?u:t.call(r,p))!==s)break}catch(e){i=n,a=1,u=e}finally{l=1}}return{value:e,done:d}}}(t,o,a),!0),c}var s={};function l(){}function c(){}function d(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(i(e={},r,(function(){return this})),e),f=d.prototype=l.prototype=Object.create(p);function b(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,d):(n.__proto__=d,i(n,a,"GeneratorFunction")),n.prototype=Object.create(f),n}return c.prototype=d,i(f,"constructor",d),i(d,"constructor",c),c.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,r,(function(){return this})),i(f,"toString",(function(){return"[object Generator]"})),(o=function(){return{w:u,m:b}})()}function i(n,e,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}(i=function(n,e,t,r){function a(e,t){i(n,e,(function(n){return this._invoke(e,t,n)}))}e?o?o(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(a("next",0),a("throw",1),a("return",2))})(n,e,t,r)}function a(n,e,t,r,o,i,a){try{var u=n[i](a),s=u.value}catch(n){return void t(n)}u.done?e(s):Promise.resolve(s).then(r,o)}function u(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function u(n){a(i,r,o,u,s,"next",n)}function s(n){a(i,r,o,u,s,"throw",n)}u(void 0)}))}}function s(n){return function(n){if(Array.isArray(n))return l(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(n){if("string"==typeof n)return l(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function c(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,d(r.key),r)}}function d(n){var e=function(n,e){if("object"!=r(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==r(e)?e:e+""}t.r(e),t.d(e,"bootstrap",(function(){return f})),t.d(e,"mount",(function(){return b})),t.d(e,"unmount",(function(){return y}));var p=new(function(){return n=function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=null,this.mounted=!1},(e=[{key:"mount",value:function(n){var e=this;return new Promise((function(n){if(e.container=document.getElementById("vanilla-app"),!e.container)return console.error("Mount point #vanilla-app not found"),n();e.userState=null,e.employees=[],e.events=[],window.stateManager&&(e.userStateSub=window.stateManager.userState$.subscribe((function(n){e.userState=n,e.updateSharedStateDisplay(),console.log("üç¶ Vanilla: User state changed:",n)})),e.employeesSub=window.stateManager.employees$.subscribe((function(n){e.employees=n,e.updateSharedStateDisplay()})),e.eventsSub=window.stateManager.events$.subscribe((function(n){e.events=[].concat(s(e.events.slice(-4)),[n]),e.updateSharedStateDisplay(),console.log("üç¶ Vanilla received event:",n)}))),e.render(),e.mounted=!0,console.log("üç¶ Vanilla JS App mounted"),n()}))}},{key:"unmount",value:function(){var n=this;return new Promise((function(e){n.userStateSub&&n.userStateSub.unsubscribe(),n.employeesSub&&n.employeesSub.unsubscribe(),n.eventsSub&&n.eventsSub.unsubscribe(),n.container&&(n.container.innerHTML=""),n.mounted=!1,console.log("üç¶ Vanilla JS App unmounted"),e()}))}},{key:"render",value:function(){var n=(new Date).toLocaleString();this.container.innerHTML='\n      <div style="padding: 20px; border: 2px solid #28a745; border-radius: 8px; margin: 10px 0; background: #f8f9fa;">\n        <h2 style="color: #28a745; margin: 0 0 15px 0;">\n          <img src="https://raw.githubusercontent.com/voodootikigod/logo.js/master/js.png" width="40" height="40" style="vertical-align: middle; margin-right: 10px;">\n          Vanilla JavaScript ES Module\n        </h2>\n        <p><strong>Framework:</strong> Pure JavaScript (ES2020+)</p>\n        <p><strong>Features:</strong> Native ES Modules, Web Components, Modern APIs</p>\n        <p><strong>Mounted at:</strong> '.concat(n,'</p>\n        \n        <div style="margin: 15px 0;">\n          <button id="vanilla-counter-btn" style="\n            background: #28a745; \n            color: white; \n            border: none; \n            padding: 8px 16px; \n            border-radius: 4px; \n            cursor: pointer;\n            margin-right: 10px;\n          ">\n            Click Count: <span id="vanilla-counter">0</span>\n          </button>\n          \n          <button id="vanilla-fetch-btn" style="\n            background: #007bff; \n            color: white; \n            border: none; \n            padding: 8px 16px; \n            border-radius: 4px; \n            cursor: pointer;\n            margin-right: 10px;\n          ">\n            Fetch Data\n          </button>\n          \n\n        </div>\n        \n        <div id="vanilla-data" style="\n          margin-top: 15px; \n          padding: 10px; \n          background: #e9ecef; \n          border-radius: 4px;\n          min-height: 40px;\n        ">\n          <em>Click "Fetch Data" to load content...</em>\n        </div>\n        \n        \x3c!-- Shared State Showcase --\x3e\n        <div id="shared-state-showcase" style="\n          margin: 15px 0; \n          padding: 15px; \n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); \n          border-radius: 8px; \n          color: white;\n        ">\n          <h4 style="margin: 0 0 15px 0; color: white;">üîÑ Shared State Management (Vanilla JS)</h4>\n          \n          <div id="user-state-info" style="\n            background: rgba(255,255,255,0.1); \n            padding: 10px; \n            border-radius: 6px; \n            margin-bottom: 10px;\n          ">\n            <strong>üë§ User State:</strong><br>\n            <span id="user-status">‚ùå Not logged in</span>\n          </div>\n          \n          <div id="employee-state-info" style="\n            background: rgba(255,255,255,0.1); \n            padding: 10px; \n            border-radius: 6px; \n            margin-bottom: 10px;\n          ">\n            <strong>üë• Employee Data:</strong><br>\n            üìä Count: <strong><span id="employee-count">0</span></strong><br>\n            üëÄ Preview: <span id="employee-preview">No employees loaded</span>\n          </div>\n          \n          <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px;">\n            <button id="load-employees-btn" style="\n              background: #28a745; \n              color: white; \n              border: none; \n              padding: 8px 12px; \n              border-radius: 4px; \n              cursor: pointer; \n              font-size: 12px;\n            ">\n              üë• Load Employees\n            </button>\n            <button id="broadcast-btn" style="\n              background: #007bff; \n              color: white; \n              border: none; \n              padding: 8px 12px; \n              border-radius: 4px; \n              cursor: pointer; \n              font-size: 12px;\n            ">\n              üì° Broadcast from Vanilla\n            </button>\n            <button id="clear-employees-btn" style="\n              background: #dc3545; \n              color: white; \n              border: none; \n              padding: 8px 12px; \n              border-radius: 4px; \n              cursor: pointer; \n              font-size: 12px;\n            ">\n              üóëÔ∏è Clear Data\n            </button>\n          </div>\n          \n          <div id="events-info" style="\n            background: rgba(255,255,255,0.1); \n            padding: 10px; \n            border-radius: 6px; \n            font-size: 12px;\n            display: none;\n          ">\n            <strong>üì® Recent Events:</strong><br>\n            <div id="events-list"></div>\n          </div>\n        </div>\n        \n        <div style="margin-top: 15px; font-size: 0.9em; color: #6c757d;">\n          <strong>Modern Features:</strong>\n          <ul style="margin: 5px 0; padding-left: 20px;">\n            <li>ES2020+ Modules</li>\n            <li>Async/Await</li>\n            <li>Fetch API</li>\n            <li>Template Literals</li>\n            <li>Arrow Functions</li>\n          </ul>\n        </div>\n      </div>\n    '),this.attachEventListeners()}},{key:"attachEventListeners",value:function(){var n=0,e=this.container.querySelector("#vanilla-counter-btn"),t=this.container.querySelector("#vanilla-counter");null==e||e.addEventListener("click",(function(){n++,t.textContent=n,window.stateManager&&window.stateManager.emit("vanilla-counter",{count:n,app:"Vanilla"})}));var r=this.container.querySelector("#vanilla-fetch-btn"),i=(this.container.querySelector("#vanilla-employees-btn"),this.container.querySelector("#vanilla-data"));null==r||r.addEventListener("click",u(o().m((function n(){var e,t;return o().w((function(n){for(;;)switch(n.p=n.n){case 0:return i.innerHTML="<em>Loading...</em>",n.p=1,n.n=2,new Promise((function(n){return setTimeout(n,1e3)}));case 2:e={timestamp:(new Date).toISOString(),randomId:Math.random().toString(36).substr(2,9),status:"success",message:"Data fetched using modern Fetch API!"},i.innerHTML='\n          <strong>Fetched Data:</strong>\n          <pre style="background: white; padding: 10px; border-radius: 4px; margin-top: 5px; overflow-x: auto;">\n'.concat(JSON.stringify(e,null,2),"\n          </pre>\n        "),n.n=4;break;case 3:n.p=3,t=n.v,i.innerHTML='<span style="color: #dc3545;">Error: '.concat(t.message,"</span>");case 4:return n.a(2)}}),n,null,[[1,3]])}))));var a=this.container.querySelector("#load-employees-btn"),s=this.container.querySelector("#broadcast-btn"),l=this.container.querySelector("#clear-employees-btn");null==a||a.addEventListener("click",(function(){window.stateManager&&window.stateManager.loadEmployees()})),null==s||s.addEventListener("click",(function(){if(window.stateManager){var n={source:"Vanilla",message:"Hello from Vanilla JS!",timestamp:(new Date).toISOString()};window.stateManager.emit("cross-app-message",n)}})),null==l||l.addEventListener("click",(function(){window.stateManager&&window.stateManager.employees$.next([])}))}},{key:"updateSharedStateDisplay",value:function(){if(this.container){var n,e=this.container.querySelector("#user-status");e&&(e.innerHTML=this.userState?"‚úÖ Logged in as: <strong>".concat((null===(n=this.userState.user)||void 0===n?void 0:n.username)||"Unknown","</strong>"):"‚ùå Not logged in");var t=this.container.querySelector("#employee-count"),r=this.container.querySelector("#employee-preview");if(t&&(t.textContent=this.employees.length),r)if(this.employees.length>0){var o=this.employees.slice(0,3).map((function(n){return n.name})).join(", "),i=this.employees.length>3?" (+".concat(this.employees.length-3," more)"):"";r.textContent=o+i}else r.textContent="No employees loaded";var a=this.container.querySelector("#events-info"),u=this.container.querySelector("#events-list");a&&u&&(this.events.length>0?(a.style.display="block",u.innerHTML=this.events.slice(-3).map((function(n){var e,t;return'<div style="margin-top: 5px;">'.concat((null===(e=n.data)||void 0===e?void 0:e.source)||n.event,": ").concat((null===(t=n.data)||void 0===t?void 0:t.message)||n.event,"</div>")})).join("")):a.style.display="none")}}}])&&c(n.prototype,e),t&&c(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e,t}()),f=function(){return Promise.resolve()},b=function(n){return p.mount(n)},y=function(){return p.unmount()};e.default={bootstrap:f,mount:b,unmount:y}}])}));